<div>
  <h1>Reset Password</h1>

  <form id="resetPasswordForm" action="/api/users/reset-password" method="POST">
    <input type="hidden" name="_method" value="PUT" />
    <input type="hidden" name="resetToken" value="<%= resetToken %>" />
    <div>
      <label for="newPassword">New Password:</label>
      <input type="password" id="newPassword" name="newPassword" required />
    </div>
    <button type="submit">Reset Password</button>
  </form>
</div>

<script>
  const form = document.getElementById("resetPasswordForm");

  form.addEventListener("submit", (event) => {
    event.preventDefault();

    fetch("/api/users/reset-password", {
      method: "PUT",
      body: new FormData(form),
    })
      .then((response) => {
        if (!response.ok) {
          throw new Error("Network response was not OK");
        }
        return response.json();
      })
      .then((data) => {
        // Handle successful response (e.g., display success message)
      })
      .catch((error) => {
        // Handle error (e.g., display user-friendly error message)
      });
  });
</script>
